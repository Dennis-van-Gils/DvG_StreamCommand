<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DvG_StreamCommand: DvG_StreamCommand Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DvG_StreamCommand
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('class_dv_g___stream_command.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_dv_g___stream_command-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">DvG_StreamCommand Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Class to manage listening to a stream, such as Serial or Wire, for incoming ASCII commands (or ASCII data packets in general) and act upon them.  
 <a href="class_dv_g___stream_command.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_dv_g___stream_command_8h_source.html">DvG_StreamCommand.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa4999e28ea771e2b06140adf450f022a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dv_g___stream_command.html#aa4999e28ea771e2b06140adf450f022a">DvG_StreamCommand</a> (Stream &amp;stream, char *buffer, uint16_t max_len)</td></tr>
<tr class="memdesc:aa4999e28ea771e2b06140adf450f022a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new <a class="el" href="class_dv_g___stream_command.html" title="Class to manage listening to a stream, such as Serial or Wire, for incoming ASCII commands (or ASCII ...">DvG_StreamCommand</a> object.  <a href="class_dv_g___stream_command.html#aa4999e28ea771e2b06140adf450f022a">More...</a><br /></td></tr>
<tr class="separator:aa4999e28ea771e2b06140adf450f022a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af23a069d14501473d413a66da9f5fc5f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dv_g___stream_command.html#af23a069d14501473d413a66da9f5fc5f">available</a> ()</td></tr>
<tr class="memdesc:af23a069d14501473d413a66da9f5fc5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Poll the stream for incoming characters and append them one-by-one to the command buffer <code>buffer</code>. This method should be called repeatedly.  <a href="class_dv_g___stream_command.html#af23a069d14501473d413a66da9f5fc5f">More...</a><br /></td></tr>
<tr class="separator:af23a069d14501473d413a66da9f5fc5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8039ac961e5c57b8d542b48399c8bb1"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dv_g___stream_command.html#ae8039ac961e5c57b8d542b48399c8bb1">getCommand</a> ()</td></tr>
<tr class="memdesc:ae8039ac961e5c57b8d542b48399c8bb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the reference to the command buffer only when a complete command has been received. Otherwise, an empty C-string is returned.  <a href="class_dv_g___stream_command.html#ae8039ac961e5c57b8d542b48399c8bb1">More...</a><br /></td></tr>
<tr class="separator:ae8039ac961e5c57b8d542b48399c8bb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add330f3bde119052767d735b2dfdf2a7"><td class="memItemLeft" align="right" valign="top"><a id="add330f3bde119052767d735b2dfdf2a7" name="add330f3bde119052767d735b2dfdf2a7"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>reset</b> ()</td></tr>
<tr class="memdesc:add330f3bde119052767d735b2dfdf2a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Empty the command buffer. <br /></td></tr>
<tr class="separator:add330f3bde119052767d735b2dfdf2a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Class to manage listening to a stream, such as Serial or Wire, for incoming ASCII commands (or ASCII data packets in general) and act upon them. </p>
<p >We speak of a completely received 'command' once a linefeed ('\n', ASCII 10) character is received, or else when the number of incoming characters has exceeded the command buffer size. Carriage return ('\r', ASCII 13) characters are ignored from the stream.</p>
<p >The command buffer is supplied by the user and must be a fixed-size character array (C-string, i.e. '\0' terminated) to store incoming characters into. This keeps the memory usage low and unfragmented, instead of relying on memory hungry C++ strings. </p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="_stream_command_8ino-example.html#_a0">StreamCommand.ino</a>.</dd>
</dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aa4999e28ea771e2b06140adf450f022a" name="aa4999e28ea771e2b06140adf450f022a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4999e28ea771e2b06140adf450f022a">&#9670;&nbsp;</a></span>DvG_StreamCommand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DvG_StreamCommand::DvG_StreamCommand </td>
          <td>(</td>
          <td class="paramtype">Stream &amp;&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>max_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a new <a class="el" href="class_dv_g___stream_command.html" title="Class to manage listening to a stream, such as Serial or Wire, for incoming ASCII commands (or ASCII ...">DvG_StreamCommand</a> object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>Reference to a stream to listen to, e.g. Serial, Wire, etc. </td></tr>
    <tr><td class="paramname">buffer</td><td>Reference to the command buffer: A fixed-size character array which will be managed by this class to hold a single incoming command. The buffer should be one character larger than the longest incoming command to allow for the C-string termination character '\0' to become appended. </td></tr>
    <tr><td class="paramname">max_len</td><td>Array size of <code>buffer</code> including '\0'. Do not exceed the maximum size of 2^^16 = 65536 characters. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af23a069d14501473d413a66da9f5fc5f" name="af23a069d14501473d413a66da9f5fc5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af23a069d14501473d413a66da9f5fc5f">&#9670;&nbsp;</a></span>available()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool DvG_StreamCommand::available </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Poll the stream for incoming characters and append them one-by-one to the command buffer <code>buffer</code>. This method should be called repeatedly. </p>
<dl class="section return"><dt>Returns</dt><dd>True when a complete command has been received and is ready to be returned by <a class="el" href="class_dv_g___stream_command.html#ae8039ac961e5c57b8d542b48399c8bb1">getCommand()</a>, false otherwise. </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="_stream_command_8ino-example.html#a1">StreamCommand.ino</a>.</dd>
</dl>

</div>
</div>
<a id="ae8039ac961e5c57b8d542b48399c8bb1" name="ae8039ac961e5c57b8d542b48399c8bb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8039ac961e5c57b8d542b48399c8bb1">&#9670;&nbsp;</a></span>getCommand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * DvG_StreamCommand::getCommand </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the reference to the command buffer only when a complete command has been received. Otherwise, an empty C-string is returned. </p>
<dl class="section return"><dt>Returns</dt><dd>char* </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="_stream_command_8ino-example.html#a2">StreamCommand.ino</a>.</dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="_dv_g___stream_command_8h_source.html">DvG_StreamCommand.h</a></li>
<li>src/<a class="el" href="_dv_g___stream_command_8cpp.html">DvG_StreamCommand.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_dv_g___stream_command.html">DvG_StreamCommand</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
